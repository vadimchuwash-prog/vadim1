# üöÄ –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ë–û–¢–ê - –ü–û–õ–ù–ê–Ø –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

**–í–µ—Ä—Å–∏—è**: v1.4.1 (Hybrid Edition)
**–ë–∏—Ä–∂–∞**: BingX
**–†–µ–∂–∏–º –º–∞—Ä–∂–∏**: Cross Margin
**–ê–∫—Ç–∏–≤**: BTC/USDT Perpetual
**–ü–ª–µ—á–æ**: 20x

---

## üìë –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã](#1-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–∞–±–æ—Ç—ã)
2. [–°–∏—Å—Ç–µ–º–∞ –≤—Ö–æ–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏—é (Multi-Filter + Confluence)](#2-—Å–∏—Å—Ç–µ–º–∞-–≤—Ö–æ–¥–∞-–≤-–ø–æ–∑–∏—Ü–∏—é)
3. [–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏](#3-–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-—Ä–∞–∑–º–µ—Ä–∞-–ø–æ–∑–∏—Ü–∏–∏)
4. [DCA —Å–µ—Ç–∫–∞ —Å —É–º–Ω—ã–º–∏ –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏](#4-dca-—Å–µ—Ç–∫–∞-—Å-—É–º–Ω—ã–º–∏-–º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏)
5. [–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Take Profit](#5-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-take-profit)
6. [Trailing Stop](#6-trailing-stop)
7. [–ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã](#7-–∑–∞—â–∏—Ç–Ω—ã–µ-–º–µ—Ö–∞–Ω–∏–∑–º—ã)
8. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–æ–º –∏ –º–∞—Ä–∂–æ–π](#8-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–∞–ø–∏—Ç–∞–ª–æ–º-–∏-–º–∞—Ä–∂–æ–π)
9. [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞ BingX Cross Margin](#9-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞-bingx-cross-margin)
10. [–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã](#10-–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ-—Å–∏—Å—Ç–µ–º—ã)
11. [–ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Main Loop)](#11-–ø–æ—Ç–æ–∫-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è-main-loop)
12. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#12-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

---

## 1. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –ü–†–ò–ù–¶–ò–ü–´ –†–ê–ë–û–¢–´

### 1.1 –§–∏–ª–æ—Å–æ—Ñ–∏—è –±–æ—Ç–∞

–ë–æ—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É **"–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏—è —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∑–∞—â–∏—Ç–æ–π"**:

- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∞–∑–º–µ—Ä –≤—Ö–æ–¥–∞, –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ DCA, TP) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ç–µ–∫—É—â—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ —É—Å–ª–æ–≤–∏—è —Ä—ã–Ω–∫–∞
- **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**: 7 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ + confluence scoring –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç –ª–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- **–£–º–Ω–æ–µ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ**: DCA —Å–µ—Ç–∫–∞ —Å –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–µ–π –∏ RSI/ATR –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞—Ö–∞**: –°—Ç–æ–ø-–ª–æ—Å—Å –í–°–ï–ì–î–ê —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–Ω—å—à–µ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ (–∑–∞–ø–∞—Å 11-12%)

### 1.2 –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞:

**TREND —Ä–µ–∂–∏–º** (ADX > 25):
- –ü–ª–æ—Ç–Ω–∞—è DCA —Å–µ—Ç–∫–∞ (–¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ 0.6-6.6%)
- –ú–µ–Ω—å—à–∏–µ –≤–µ—Å–∞ –¥–æ–∫—É–ø–æ–∫ (1.4x-4.5x)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π

**RANGE —Ä–µ–∂–∏–º** (ADX ‚â§ 25):
- –®–∏—Ä–æ–∫–∞—è DCA —Å–µ—Ç–∫–∞ (–¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ 1.0-11.9%)
- –ë–æ–ª—å—à–∏–µ –≤–µ—Å–∞ –¥–æ–∫—É–ø–æ–∫ (1.6x-5.0x)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–∫–æ–≤–∏–∫–∞ —Å —à—É–º–æ–º

### 1.3 –¶–∏–∫–ª –∂–∏–∑–Ω–∏ —Å–¥–µ–ª–∫–∏

```
1. –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ (–∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥)
   ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ 7 —Ñ–∏–ª—å—Ç—Ä–æ–≤ + Confluence
   ‚Üì
3. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (–ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä)
   ‚Üì
4. –†–∞–∑–º–µ—â–µ–Ω–∏–µ TP, DCA, Stop Loss
   ‚Üì
5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–∏:
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TP –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ DCA
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ Trailing Stop
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ Stop Loss
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∏—Ä–∂–µ–π
   ‚Üì
6. –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (TP/SL/Trailing)
   ‚Üì
7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, cooldown
```

---

## 2. –°–ò–°–¢–ï–ú–ê –í–•–û–î–ê –í –ü–û–ó–ò–¶–ò–Æ

### 2.1 –°–µ–º—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞ (Multi-Filter System)

–ö–∞–∂–¥—ã–π –≤—Ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **7 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏**:

#### –§–∏–ª—å—Ç—Ä 1: –ë–∞–∑–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª (EMA Crossover)
```python
BUY:  EMA9 > EMA15
SELL: EMA9 < EMA15
```

#### –§–∏–ª—å—Ç—Ä 2: Momentum (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ EMA9)
```python
BUY:  EMA9[—Ç–µ–∫—É—â–∞—è] > EMA9[–ø—Ä–µ–¥—ã–¥—É—â–∞—è]  # –†–∞—Å—Ç—É—â–∏–π —Ç—Ä–µ–Ω–¥
SELL: EMA9[—Ç–µ–∫—É—â–∞—è] < EMA9[–ø—Ä–µ–¥—ã–¥—É—â–∞—è]  # –ü–∞–¥–∞—é—â–∏–π —Ç—Ä–µ–Ω–¥
```

#### –§–∏–ª—å—Ç—Ä 3: –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (ATR)
```python
–ú–∏–Ω–∏–º—É–º: ATR > 0.03% (0.0003)
–ï—Å–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è ‚Üí –Ω–µ—Ç –≤—Ö–æ–¥–∞
```

#### –§–∏–ª—å—Ç—Ä 4: RSI –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```python
–î–∏–∞–ø–∞–∑–æ–Ω: 30 < RSI < 70
–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ
```

#### –§–∏–ª—å—Ç—Ä 5: –û–±—ä—ë–º
```python
Volume Ratio = –¢–µ–∫—É—â–∏–π –æ–±—ä—ë–º / –°—Ä–µ–¥–Ω–∏–π –æ–±—ä—ë–º –∑–∞ 20 —Å–≤–µ—á–µ–π
–ú–∏–Ω–∏–º—É–º: Volume Ratio > 1.0
```

#### –§–∏–ª—å—Ç—Ä 6: –ú–∏–∫—Ä–æ—Ç—Ä–µ–Ω–¥ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
```python
BUY:  –ú–∏–Ω–∏–º—É–º 1 –±—ã—á—å—è —Å–≤–µ—á–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 2
SELL: –ú–∏–Ω–∏–º—É–º 1 –º–µ–¥–≤–µ–∂—å—è —Å–≤–µ—á–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 2
```

#### –§–∏–ª—å—Ç—Ä 7: –ó–∞—â–∏—Ç–∞ –æ—Ç "–ø–∞–¥–∞—é—â–µ–≥–æ –Ω–æ–∂–∞"
```python
–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ 3 —Å–≤–µ—á–∏ < 1.5% (0.015)
–ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ö–æ–¥–∞ –≤ —Ä–µ–∑–∫–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
```

### 2.2 Confluence Scoring (0-7 –±–∞–ª–ª–æ–≤)

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤, —Å–∏–≥–Ω–∞–ª –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ **7 —Ñ–∞–∫—Ç–æ—Ä–∞–º**:

| –§–∞–∫—Ç–æ—Ä | –£—Å–ª–æ–≤–∏–µ | –ë–∞–ª–ª |
|--------|---------|------|
| RSI –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π | abs(RSI - 50) < 15 | +1 |
| –¢—Ä–µ–Ω–¥ | EMA9 > EMA20 | +1 |
| EMA momentum | abs(EMA9_change) > 0.01% | +1 |
| –û–±—ä—ë–º –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ | Volume > 1.2 √ó avg | +1 |
| RSI –æ—á–µ–Ω—å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π | abs(RSI - 50) < 10 | +1 |
| –í—ã—Å–æ–∫–∏–π –æ–±—ä—ë–º | Volume > 1.5 √ó avg | +1 |
| –°–ø–æ–∫–æ–π–Ω—ã–π —Ä—ã–Ω–æ–∫ | ATR < 1.5 √ó avg_ATR | +1 |

**–ò—Ç–æ–≥–æ**: 0-7 –±–∞–ª–ª–æ–≤

### 2.3 –°—Ç–∞–¥–∏–∏ –≤—Ö–æ–¥–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ Confluence)

| Confluence | –°—Ç–∞–¥–∏—è | –†–∞–∑–º–µ—Ä –≤—Ö–æ–¥–∞ (% –±–∞–ª–∞–Ω—Å–∞) | –•–∞—Ä–∞–∫—Ç–µ—Ä |
|-----------|--------|--------------------------|----------|
| 0-2 –±–∞–ª–ª–∞ | Stage 1 | 0.8% - 1.6% | –°–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ |
| 3-4 –±–∞–ª–ª–∞ | Stage 2 | 1.3% - 2.3% | –°—Ä–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∏—Å–∫ |
| 5-7 –±–∞–ª–ª–æ–≤ | Stage 3 | 1.8% - 3.0% | –°–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏—è |

---

## 3. –ê–î–ê–ü–¢–ò–í–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –†–ê–ó–ú–ï–†–ê –ü–û–ó–ò–¶–ò–ò

### 3.1 –ë–∞–∑–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç

```python
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ —Å—Ç–∞–¥–∏–∏
if confluence >= 5:    base_pct = 2.5%  # Stage 3
elif confluence >= 3:  base_pct = 1.8%  # Stage 2
else:                  base_pct = 1.2%  # Stage 1
```

### 3.2 –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ —Ä—ã–Ω–∫—É

```python
score = 0

# –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
if ATR > 0.5%:      score -= 1  # –í—ã—Å–æ–∫–∞—è ‚Üí —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∏—Å–∫
elif ATR < 0.2%:    score += 1  # –ù–∏–∑–∫–∞—è ‚Üí –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ

# –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞
if ADX > 35:        score += 1  # –°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥ ‚Üí –±–æ–ª—å—à–µ
elif ADX < 20:      score -= 1  # –ë–æ–∫–æ–≤–∏–∫ ‚Üí –º–µ–Ω—å—à–µ

# –ò—Ç–æ–≥–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
multiplier = 1.0 + (score √ó 0.10)
final_pct = base_pct √ó multiplier

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Å—Ç–∞–¥–∏–∏
final_pct = clamp(final_pct, min_pct, max_pct)
```

### 3.3 –ü—Ä–∏–º–µ—Ä

```
Confluence: 4 (Stage 2)
Base: 1.8%
ATR: 0.4% (–≤—ã—Å–æ–∫–∞—è) ‚Üí score -1
ADX: 35 (—Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥) ‚Üí score +1
Score: 0

Multiplier: 1.0 + (0 √ó 0.10) = 1.0
Final: 1.8% √ó 1.0 = 1.8%

–ú–∞—Ä–∂–∞: $3,400 √ó 1.8% = $61.20
–ü–æ–∑–∏—Ü–∏—è: $61.20 √ó 20 = $1,224
```

---

## 4. DCA –°–ï–¢–ö–ê –° –£–ú–ù–´–ú–ò –ú–ù–û–ñ–ò–¢–ï–õ–Ø–ú–ò

### 4.1 –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**TREND —Ä–µ–∂–∏–º** (ADX > 25):
```python
–î–∏—Å—Ç–∞–Ω—Ü–∏–∏: [0.6%, 1.2%, 2.0%, 3.0%, 4.5%]
–í–µ—Å–∞:      [1.4x, 2.0x, 2.8x, 3.5x, 4.5x]
```

**RANGE —Ä–µ–∂–∏–º** (ADX ‚â§ 25):
```python
–î–∏—Å—Ç–∞–Ω—Ü–∏–∏: [1.0%, 1.8%, 3.0%, 4.5%, 6.5%]
–í–µ—Å–∞:      [1.6x, 2.2x, 3.0x, 4.0x, 5.0x]
```

### 4.2 Smart Distance Multiplier

–ö–∞–∂–¥–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è DCA —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ **Smart Multiplier**:

```python
def calculate_multiplier(atr, rsi, safety_count):
    # 1. ATR —Ñ–∞–∫—Ç–æ—Ä (–∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏)
    BASE_ATR = 0.002  # 0.2%
    atr_factor = atr / BASE_ATR
    atr_factor = clamp(atr_factor, 0.8, 2.5)

    # 2. RSI —Ñ–∞–∫—Ç–æ—Ä (–∞–≥—Ä–µ—Å—Å–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏)
    if rsi < 20:   rsi_factor = 1.6
    elif rsi < 30: rsi_factor = 1.3
    elif rsi < 40: rsi_factor = 1.1
    else:          rsi_factor = 1.0

    # 3. –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä (–ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è)
    geo_factor = 1.1 ^ safety_count

    # –ò—Ç–æ–≥–æ
    multiplier = atr_factor √ó rsi_factor √ó geo_factor
    return multiplier

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
actual_distance = base_distance √ó multiplier
```

### 4.3 –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ (TREND, ATR 0.4%, RSI 25)

| DCA | Base Dist | ATR√ó2.0 | RSI√ó1.3 | GEO | Multiplier | Actual Dist | –¶–µ–Ω–∞ (–æ—Ç $100k) |
|-----|-----------|---------|---------|-----|------------|-------------|-----------------|
| DCA1 | 0.6% | 2.0 | 1.3 | 1.10 | 2.86 | **1.72%** | $98,280 |
| DCA2 | 1.2% | 2.0 | 1.3 | 1.21 | 3.15 | **3.78%** | $96,220 |
| DCA3 | 2.0% | 2.0 | 1.3 | 1.33 | 3.46 | **6.92%** | $93,080 |
| DCA4 | 3.0% | 2.0 | 1.3 | 1.46 | 3.80 | **11.40%** | $88,600 |
| DCA5 | 4.5% | 2.0 | 1.3 | 1.61 | 4.19 | **18.85%** | $81,150 |

**–õ–æ–≥–∏–∫–∞**: –ß–µ–º –≤—ã—à–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å ‚Üí —Ç–µ–º –¥–∞–ª—å—à–µ DCA ‚Üí –º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π.

### 4.4 –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ DCA

```python
dca_margin = entry_margin √ó weight
dca_position = dca_margin √ó leverage
dca_size_btc = dca_position / dca_price

# –ü—Ä–∏–º–µ—Ä (–≤—Ö–æ–¥ $61.20, DCA3 –≤–µ—Å 2.8x)
dca_margin = $61.20 √ó 2.8 = $171.36
dca_position = $171.36 √ó 20 = $3,427.20
dca_size_btc = $3,427.20 / $97,580 = 0.03512 BTC
```

### 4.5 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ DCA

–ü—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ DCA:
1. –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ (–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è)
2. **TP –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –æ—Ç –Ω–æ–≤–æ–π —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã
3. **DCA —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π** (–µ—Å–ª–∏ < 5 —É—Ä–æ–≤–Ω–µ–π)
4. **SL –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** (–æ—Å—Ç–∞–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ—Ç –≤—Ö–æ–¥–∞)

---

## 5. –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ô TAKE PROFIT

### 5.1 –§–æ—Ä–º—É–ª–∞

```python
dynamic_tp = BASE_TP + (ATR √ó 0.5)

BASE_TP = 0.35%  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–∞
ATR_component = current_ATR √ó 0.5

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
dynamic_tp = clamp(dynamic_tp, 0.25%, 1.0%)
```

### 5.2 –ü—Ä–∏–º–µ—Ä—ã

| ATR | –†–∞—Å—á–µ—Ç | TP | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----|--------|-----|-------------|
| 0.1% | 0.35% + (0.1% √ó 0.5) | **0.40%** | –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å |
| 0.2% | 0.35% + (0.2% √ó 0.5) | **0.45%** | –ò–¥–µ–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è |
| 0.4% | 0.35% + (0.4% √ó 0.5) | **0.55%** | –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å |
| 0.6% | 0.35% + (0.6% √ó 0.5) | **0.65%** | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |
| 1.5% | 0.35% + (1.5% √ó 0.5) | **1.00%** | –õ–∏–º–∏—Ç! (cap at 1.0%) |

### 5.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ DCA

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ DCA:
```python
# –ù–æ–≤–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞
avg_price = (prev_total_usd + dca_usd) / total_size_btc

# TP –æ—Ç –Ω–æ–≤–æ–π —Å—Ä–µ–¥–Ω–µ–π
tp_price = avg_price √ó (1 + dynamic_tp)

# –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã–π TP –æ—Ä–¥–µ—Ä
cancel_old_tp_order()

# –†–∞–∑–º–µ—â–∞–µ–º –Ω–æ–≤—ã–π TP –æ—Ä–¥–µ—Ä
place_new_tp_order(tp_price, total_size_btc)
```

---

## 6. TRAILING STOP

### 6.1 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

```python
TRAILING_ENABLED = True
TRAILING_ACTIVATION_PCT = 0.008   # –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏ +0.8% –ø—Ä–∏–±—ã–ª–∏
TRAILING_CALLBACK_PCT = 0.0035    # –û—Ç–∫–∞—Ç -0.35% –æ—Ç –ø–∏–∫–∞
TRAILING_UPDATE_INTERVAL = 3      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
```

### 6.2 –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

```python
# –®–∞–≥ 1: –û–∂–∏–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
if unrealized_pnl_pct >= +0.8%:
    trailing_active = True
    trailing_peak_price = current_price
    log("Trailing ACTIVATED")

# –®–∞–≥ 2: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∏–∫–∞
if trailing_active:
    if current_price > trailing_peak_price:
        trailing_peak_price = current_price  # –û–±–Ω–æ–≤–ª—è–µ–º –ø–∏–∫

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–∞—Ç–∞
    callback = (trailing_peak_price - current_price) / trailing_peak_price

    if callback >= 0.35%:
        close_position("Trailing Stop triggered")
```

### 6.3 –ü—Ä–∏–º–µ—Ä

```
–í—Ö–æ–¥: $100,000
–¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç –¥–æ $100,850 ‚Üí –ü—Ä–∏–±—ã–ª—å +0.85% ‚Üí –ê–ö–¢–ò–í–ê–¶–ò–Ø!
Peak: $100,850

–¶–µ–Ω–∞ $100,900 ‚Üí Peak –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–æ $100,900
–¶–µ–Ω–∞ $101,200 ‚Üí Peak –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–æ $101,200
–¶–µ–Ω–∞ –ø–∞–¥–∞–µ—Ç –¥–æ $100,845 ‚Üí –û—Ç–∫–∞—Ç = -0.35% ‚Üí –ó–ê–ö–†–´–¢–ò–ï!

–ü—Ä–∏–±—ã–ª—å: +0.845%
```

---

## 7. –ó–ê–©–ò–¢–ù–´–ï –ú–ï–•–ê–ù–ò–ó–ú–´

### 7.1 –°—Ç–æ–ø-–ª–æ—Å—Å (–¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

#### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (main loop)
```python
# –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥
max_loss = balance √ó 0.30  # $3,400 √ó 0.30 = $1,020
unrealized_pnl = (current_price - avg_price) √ó size_btc √ó side_mult

if unrealized_pnl <= -max_loss:
    close_position_market("STOP LOSS -30%")
```

#### –ë–∏—Ä–∂–µ–≤–æ–π Stop Loss –æ—Ä–¥–µ—Ä
```python
# –†–∞–∑–º–µ—â–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
sl_price = avg_price √ó (1 - 0.30)  # –î–ª—è LONG

# ‚ö†Ô∏è –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ DCA!
# –≠—Ç–æ backup –Ω–∞ —Å–ª—É—á–∞–π –æ–±—Ä—ã–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```

### 7.2 –ó–∞–ø–∞—Å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –ø–æ —Ä–µ–∂–∏–º–∞–º

| –†–µ–∂–∏–º | –ú–∞–∫—Å. –ø—Ä–æ—Å–∞–¥–∫–∞ –¥–æ SL | –ü—Ä–æ—Å–∞–¥–∫–∞ DCA5 | –ó–∞–ø–∞—Å –¥–æ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ |
|-------|----------------------|---------------|---------------------|
| TREND –Ω–∏–∑–∫–∞—è –≤–æ–ª. | -8.88% | -6.59% | +12.29% –ø–æ—Å–ª–µ SL |
| TREND –≤—ã—Å–æ–∫–∞—è –≤–æ–ª. | -14.57% | -17.13% ‚ö†Ô∏è | +12.29% –ø–æ—Å–ª–µ SL |
| RANGE —Å—Ä–µ–¥–Ω—è—è –≤–æ–ª. | -11.38% | -11.90% ‚ö†Ô∏è | +11.07% –ø–æ—Å–ª–µ SL |
| RANGE —ç–∫—Å—Ç—Ä–∏–º | -22.99% | -30.93% ‚ö†Ô∏è | +12.36% –ø–æ—Å–ª–µ SL |

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –í —Ä–µ–∂–∏–º–∞—Ö –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ DCA5 —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è **–ù–ò–ñ–ï** —Å—Ç–æ–ø-–ª–æ—Å—Å–∞. –≠—Ç–æ **–∑–∞—â–∏—Ç–∞** ‚Äî SL —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–Ω—å—à–µ, –Ω–µ –¥–∞–≤–∞—è —É—Å—Ä–µ–¥–Ω—è—Ç—å—Å—è –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ.

### 7.3 –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∏—Ä–∂–µ–π

```python
def sync_position():
    # –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥
    positions = exchange.fetch_positions()

    if position_on_exchange and not in_position:
        # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
        restore_position_state()

    if not position_on_exchange and in_position:
        # –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞ –±–∏—Ä–∂–µ–π (–ª–∏–∫–≤–∏–¥–∞—Ü–∏—è?)
        reset_bot_state()
        log("EMERGENCY: Position closed by exchange!")
```

### 7.4 –ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤

```python
def place_limit_dca():
    # –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
    if hasattr(self, '_dca_placing') and self._dca_placing:
        return False

    self._dca_placing = True

    try:
        # –û—Ç–º–µ–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ DCA
        if self.dca_order_id:
            cancel_order(self.dca_order_id)

        # –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
        order = create_order(...)
        self.dca_order_id = order['id']
    finally:
        self._dca_placing = False
```

---

## 8. –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ê–ü–ò–¢–ê–õ–û–ú –ò –ú–ê–†–ñ–û–ô

### 8.1 –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞

```python
BALANCE = $3,400
LEVERAGE = 20x
ALLOWED_CAPITAL_PCT = 1.0  # 100% –±–∞–ª–∞–Ω—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–æ

# –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –±–∞–ª–∞–Ω—Å
effective_balance = BALANCE √ó ALLOWED_CAPITAL_PCT = $3,400
```

### 8.2 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ä–∂–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º

| –ü–æ—Å–ª–µ —É—Ä–æ–≤–Ω—è | –ú–∞—Ä–∂–∞ (TREND) | –ú–∞—Ä–∂–∞ (RANGE) | % –æ—Ç –±–∞–ª–∞–Ω—Å–∞ |
|--------------|---------------|---------------|--------------|
| –í—Ö–æ–¥ | $61.20 | $61.20 | 1.8% |
| DCA1 | $146.88 | $159.12 | 4.3-4.7% |
| DCA2 | $269.28 | $293.76 | 7.9-8.6% |
| DCA3 | $440.64 | $477.36 | 13.0-14.0% |
| DCA4 | $654.84 | $722.16 | 19.3-21.2% |
| DCA5 | **$930.24** | **$1,028.16** | **27.4-30.2%** |

**–ò—Ç–æ–≥–æ –ø–æ—Å–ª–µ –≤—Å–µ—Ö DCA**: 27-30% –±–∞–ª–∞–Ω—Å–∞ –≤ –º–∞—Ä–∂–µ, 70-73% —Å–≤–æ–±–æ–¥–Ω–æ.

### 8.3 –ö–æ–º–∏—Å—Å–∏–∏

```python
MAKER_FEE = 0.02%  # –õ–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ (–≤—Ö–æ–¥, DCA, TP)
TAKER_FEE = 0.05%  # –†—ã–Ω–æ—á–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ (—Å—Ç–æ–ø-–ª–æ—Å—Å, —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ)

# –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
current_trade_fees += entry_fee
current_trade_fees += dca1_fee
current_trade_fees += dca2_fee
...
current_trade_fees += exit_fee

# –†–∞—Å—á–µ—Ç —á–∏—Å—Ç–æ–≥–æ PnL
net_pnl = gross_pnl - current_trade_fees
```

### 8.4 Funding Rate

```python
FUNDING_RATE_8H = 0.01%  # 0.0001

# –û—Ü–µ–Ω–∫–∞ –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤
if time_since_entry > 8h:
    funding_cost = position_size_usd √ó FUNDING_RATE_8H
    log(f"Funding estimated: -${funding_cost:.2f}")
```

---

## 9. –°–ü–ï–¶–ò–§–ò–ö–ê BINGX CROSS MARGIN

### 9.1 –ß—Ç–æ —Ç–∞–∫–æ–µ Cross Margin

**Cross Margin** ‚Äî –≤–µ—Å—å –±–∞–ª–∞–Ω—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∑–∞–ª–æ–≥ –¥–ª—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π.

**–û—Ç–ª–∏—á–∏–µ –æ—Ç Isolated**:
- Isolated: –ú–∞—Ä–∂–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
- Cross: –í–µ—Å—å –±–∞–ª–∞–Ω—Å ‚Äî –æ–±—â–∏–π –∑–∞–ª–æ–≥

### 9.2 –†–∞—Å—á–µ—Ç –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ (BingX BTC)

```python
# Maintenance Margin Rate –¥–ª—è BTC
MMR = 0.5%  # 0.005

# –§–æ—Ä–º—É–ª–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏
maintenance_margin = position_size_usd √ó MMR
max_loss_before_liquidation = balance - maintenance_margin

# –ü—Ä–∏–º–µ—Ä (–≤—Ö–æ–¥ $61.20 –º–∞—Ä–∂–∏, leverage 20x)
position = $61.20 √ó 20 = $1,224
mm = $1,224 √ó 0.005 = $6.12
max_loss = $3,400 - $6.12 = $3,393.88

# –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ $3,394 (99.8% –±–∞–ª–∞–Ω—Å–∞!)
```

### 9.3 –ü–æ—á–µ–º—É —Å—Ç–æ–ø-–ª–æ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç

```python
# –ü–æ—Å–ª–µ DCA5 (TREND)
position = $18,604.80
mm = $18,604.80 √ó 0.005 = $93.02
max_loss_liquidation = $3,400 - $93.02 = $3,306.98

# –°—Ç–æ–ø-–ª–æ—Å—Å
max_loss_sl = $3,400 √ó 0.30 = $1,020

# –ó–∞–ø–∞—Å
reserve = $3,306.98 - $1,020 = $2,286.98 ‚úÖ

# –°—Ç–æ–ø-–ª–æ—Å—Å —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ $1,020
# –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ $3,307
# –ó–∞–ø–∞—Å: $2,287 (67% –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ—Å–∞–¥–∫–∏!)
```

### 9.4 –†–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏

**TREND –Ω–∏–∑–∫–∞—è –≤–æ–ª. (–≤—Ö–æ–¥ $100,000):**
```
–ü–æ—Å–ª–µ DCA5:
–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $96,400
–†–∞–∑–º–µ—Ä: 0.0654 BTC
–£–±—ã—Ç–æ–∫ –¥–ª—è –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏: $3,307
–¶–µ–Ω–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏: $96,400 - ($3,307 / 0.0654) = $45,836

‚ö†Ô∏è –ù–û —ç—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–∞!
–°—Ç–æ–ø-–ª–æ—Å—Å —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ $91,115 (—É–±—ã—Ç–æ–∫ $1,020)
```

**–í—ã–≤–æ–¥**: –ü—Ä–∏ cross margin –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ ‚âà 97% –±–∞–ª–∞–Ω—Å–∞. –°—Ç–æ–ø-–ª–æ—Å—Å –∑–∞—â–∏—â–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ 30% —É–±—ã—Ç–∫–∞ ‚Äî –æ–≥—Ä–æ–º–Ω—ã–π –∑–∞–ø–∞—Å!

---

## 10. –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –°–ò–°–¢–ï–ú–´

### 10.1 PnL Audit (–¥–µ—Ç–µ–∫—Ç–æ—Ä —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π)

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ PnL —Å –±–∏—Ä–∂–∏
exchange_pnl = fetch_position_pnl()
calculated_pnl = (current_price - avg_price) √ó size √ó side_mult

diff = abs(exchange_pnl - calculated_pnl)

if diff > 5:  # –ï—Å–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ > $5
    log(f"‚ö†Ô∏è PnL MISMATCH! Calc: {calculated_pnl}, Real: {exchange_pnl}")
```

### 10.2 Blackbox JSON logging

```python
# –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
blackbox_entry = {
    "timestamp": "2025-01-23 12:34:56",
    "event": "DCA_EXECUTED",
    "data": {
        "level": 3,
        "price": 97580,
        "size": 0.03512,
        "new_avg_price": 98567,
        "total_size": 0.0387,
        "fee": 1.37
    }
}

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON —Ñ–∞–π–ª
append_to_blackbox(blackbox_entry)
```

### 10.3 Future Spy (–∞–Ω–∞–ª–∏–∑ —É–ø—É—â–µ–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏)

```python
# –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏
if close_reason == "Stop Loss":
    # –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ü–µ–Ω—É –¥–∞–ª—å—à–µ 30 –º–∏–Ω—É—Ç
    track_price_after_close(duration=30min)

    # –†–∞—Å—á–µ—Ç —É–ø—É—â–µ–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏
    if price_went_up:
        missed_profit = (peak_price - close_price) √ó size
        log(f"üí∏ Future Spy: —É–ø—É—â–µ–Ω–æ ${missed_profit:.2f}")
```

### 10.4 –¢–∞–π–º–µ—Ä –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è

```python
MIN_TIME_BETWEEN_TRADES = 3600  # 1 —á–∞—Å
DAILY_TRADE_LIMIT = 150

# –ü–æ—Å–ª–µ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞
if close_reason == "STOP LOSS":
    last_trade_time = now()
    cooldown_active = True

    # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –≤—Ö–æ–¥–æ–≤
    if (now() - last_trade_time) < 3600:
        skip_entry_signals()
```

### 10.5 AI –ø–æ–º–æ—â–Ω–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```python
# AI –æ—Ç—á–µ—Ç—ã —á–µ—Ä–µ–∑ Gemini
def generate_ai_report():
    context = {
        "market": f"BTC ${current_price}, ATR {atr}, RSI {rsi}",
        "position": f"{position_side}, PnL ${pnl}",
        "logs": last_40_lines_from_log()
    }

    prompt = "–¢—ã AI-–∞–Ω–∞–ª–∏—Ç–∏–∫. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–∏—Ç—É–∞—Ü–∏—é –∏ –¥–∞–π —Å–æ–≤–µ—Ç."
    response = gemini.generate(prompt)

    telegram.send(f"ü§ñ AI REPORT:\n{response}")
```

### 10.6 Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ö–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏:
- **üíº –ë–∞–ª–∞–Ω—Å** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
- **üìä Dashboard** ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥
- **‚è∏ Pause** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é
- **‚ñ∂Ô∏è Resume** ‚Äî –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å
- **üÜò Panic Sell** ‚Äî –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- **ü§ñ AI Report** ‚Äî –∑–∞–ø—Ä–æ—Å–∏—Ç—å AI –∞–Ω–∞–ª–∏–∑
- **üí¨ Chat** ‚Äî –æ–±—â–µ–Ω–∏–µ —Å AI

---

## 11. –ü–û–¢–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø (MAIN LOOP)

### 11.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∏—Ä–∂–µ (BingX)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞
6. –ó–∞–ø—É—Å–∫ –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
```

### 11.2 –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª (–∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥)

```python
while True:
    try:
        # 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        df = get_market_data_enhanced()
        current_price = df['close'].iloc[-1]
        current_atr = df['ATR_pct'].iloc[-1]
        current_adx = df['ADX'].iloc[-1]

        # 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
        is_trending = (current_adx > 25)

        # 3. –ï–°–õ–ò –ù–ï–¢ –ü–û–ó–ò–¶–ò–ò
        if not in_position:
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ cooldown
            if cooldown_active:
                continue

            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
            if trades_today >= DAILY_TRADE_LIMIT:
                continue

            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞–ª–∞
            signal = check_entry_signal_hybrid(df)
            if signal:
                open_position(signal)

        # 4. –ï–°–õ–ò –ï–°–¢–¨ –ü–û–ó–ò–¶–ò–Ø
        else:
            # 4.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã
            update_last_price(current_price)

            # 4.2 –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∏—Ä–∂–µ–π
            sync_position_with_exchange()

            # 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
            check_tp_execution()
            check_dca_execution()

            # 4.4 Trailing Stop
            if TRAILING_ENABLED:
                if check_trailing_stop():
                    continue

            # 4.5 Stop Loss (–ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
            max_loss = balance √ó 0.30
            unrealized = calculate_unrealized_pnl()
            if unrealized <= -max_loss:
                close_position_market("STOP LOSS -30%")
                continue

            # 4.6 PnL –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
            if time_to_log_pnl():
                log_pnl_status()

            # 4.7 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞
            if time_to_update_dashboard():
                update_dashboard()

        # 5. –ü–∞—É–∑–∞
        sleep(LOOP_INTERVAL)

    except Exception as e:
        log_error(e)
        sleep(ERROR_COOLDOWN)
```

### 11.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

**–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏:**
```python
1. –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (smart)
2. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
3. –û–∂–∏–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (30 —Å–µ–∫)
4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω:
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (avg_price, size, stage, confluence)
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ TP
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ DCA1
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ Stop Loss
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
5. –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª–Ω–µ–Ω:
   - –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
   - –ü–æ–ø—ã—Ç–∫–∞ –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ DCA:**
```python
1. –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ open_orders)
2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏:
   - safety_count += 1
   - total_size_btc += dca_size
   - avg_price = weighted_average(prev, new)
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π
5. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ TP (–æ—Ç –Ω–æ–≤–æ–π —Å—Ä–µ–¥–Ω–µ–π!)
6. –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ DCA (–µ—Å–ª–∏ < 5)
7. Blackbox –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
8. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
```

**–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏:**
```python
1. –û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ (TP, DCA, SL)
2. –†—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏–µ (reduceOnly=True)
3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –∏ –∫–æ–º–∏—Å—Å–∏–∏
4. –†–∞—Å—á–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ PnL:
   - gross_pnl = (exit_price - avg_price) √ó size √ó side_mult
   - net_pnl = gross_pnl - total_fees
5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ session_wins / session_losses
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ total_pnl
6. Blackbox –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
7. CSV –∑–∞–ø–∏—Å—å
8. Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏
9. Future Spy (–µ—Å–ª–∏ SL)
10. Cooldown (–µ—Å–ª–∏ SL)
11. –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
```

---

## 12. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´

### 12.1 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

```python
# –ë–∏—Ä–∂–∞
SYMBOL = 'BTC/USDT:USDT'
TIMEFRAME = '1m'
LEVERAGE = 20

# –ö–∞–ø–∏—Ç–∞–ª
ALLOWED_CAPITAL_PCT = 1.0  # 100%

# –í—Ö–æ–¥—ã (Stage 2 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
STAGE2_BASE_ENTRY = 0.018   # 1.8%
STAGE2_MIN_ENTRY = 0.013    # 1.3%
STAGE2_MAX_ENTRY = 0.023    # 2.3%

# DCA TREND
HAMMER_DISTANCES_TREND = [0.006, 0.012, 0.020, 0.030, 0.045]
HAMMER_WEIGHTS_TREND = [1.4, 2.0, 2.8, 3.5, 4.5]

# DCA RANGE
HAMMER_DISTANCES_RANGE = [0.010, 0.018, 0.030, 0.045, 0.065]
HAMMER_WEIGHTS_RANGE = [1.6, 2.2, 3.0, 4.0, 5.0]

# TP/SL
DYNAMIC_TP_BASE = 0.0035    # 0.35%
MAX_ACCOUNT_LOSS_PCT = 0.30 # 30%

# Trailing
TRAILING_ACTIVATION_PCT = 0.008   # 0.8%
TRAILING_CALLBACK_PCT = 0.0035    # 0.35%

# –ó–∞—â–∏—Ç–∞
QUALITY_FILTER_ENABLED = True
MIN_VOLATILITY_PCT = 0.0003       # 0.03%
RSI_SAFE_MIN = 30
RSI_SAFE_MAX = 70
KNIFE_PROTECTION_PCT = 0.015      # 1.5%
MIN_CONFLUENCE_SCORE = 1

# –õ–∏–º–∏—Ç—ã
SAFETY_ORDERS_COUNT = 5
MIN_EXCHANGE_ORDER_USD = 5.1
DAILY_TRADE_LIMIT = 150
MIN_TIME_BETWEEN_TRADES = 3600    # 1 —á–∞—Å –ø–æ—Å–ª–µ SL

# –ö–æ–º–∏—Å—Å–∏–∏
MAKER_FEE = 0.0002  # 0.02%
TAKER_FEE = 0.0005  # 0.05%
FUNDING_RATE_8H = 0.0001  # 0.01%
```

### 12.2 –ß—Ç–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–µ–Ω—è—Ç—å:**
- `STAGE2_BASE_ENTRY` ‚Äî —Ä–∞–∑–º–µ—Ä –≤—Ö–æ–¥–∞ (1.8% —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `MAX_ACCOUNT_LOSS_PCT` ‚Äî —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (30% —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `TRAILING_ACTIVATION_PCT` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è trailing (0.8% —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `DAILY_TRADE_LIMIT` ‚Äî –ª–∏–º–∏—Ç —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å (150 —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

**–ú–µ–Ω—è—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ:**
- `LEVERAGE` ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∏—Å–∫ –∏ –ª–∏–∫–≤–∏–¥–∞—Ü–∏—é!
- `HAMMER_WEIGHTS_*` ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ä–∂–∏
- `DYNAMIC_TP_BASE` ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å

**–ù–ï –¢–†–û–ì–ê–¢–¨ –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è:**
- `HAMMER_DISTANCES_*` ‚Äî –æ—Ç–ª–∞–∂–µ–Ω—ã –ø–æ–¥ BTC
- `Smart Multiplier` –ª–æ–≥–∏–∫–∞ ‚Äî —Å–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- –§–∏–ª—å—Ç—Ä—ã –≤—Ö–æ–¥–∞ ‚Äî –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–∞–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

### 12.3 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–¥ —Å–∏—Ç—É–∞—Ü–∏—é

**–î–ª—è –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏:**
```python
STAGE2_BASE_ENTRY = 0.025  # 2.5% –≤–º–µ—Å—Ç–æ 1.8%
MAX_ACCOUNT_LOSS_PCT = 0.40  # -40% –≤–º–µ—Å—Ç–æ -30%
```

**–î–ª—è –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏:**
```python
STAGE2_BASE_ENTRY = 0.012  # 1.2% –≤–º–µ—Å—Ç–æ 1.8%
MAX_ACCOUNT_LOSS_PCT = 0.20  # -20% –≤–º–µ—Å—Ç–æ -30%
MIN_CONFLUENCE_SCORE = 3  # –¢–æ–ª—å–∫–æ Stage 2+
```

**–ü—Ä–∏ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞:**
```python
# –£–≤–µ–ª–∏—á–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤—Ö–æ–¥–∞
MIN_VOLATILITY_PCT = 0.0005  # 0.05%

# –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –Ω–æ–∂–∞
KNIFE_PROTECTION_PCT = 0.025  # 2.5%
```

---

## üìä –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –±–æ—Ç–∞:

1. ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ä—ã–Ω–æ–∫
2. ‚úÖ **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** ‚Äî –º–∏–Ω–∏–º—É–º –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
3. ‚úÖ **–£–º–Ω–æ–µ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ** ‚Äî DCA —Å —É—á–µ—Ç–æ–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ RSI
4. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞—Ö–∞** ‚Äî —Å—Ç–æ–ø-–ª–æ—Å—Å –í–°–ï–ì–î–ê —Ä–∞–Ω—å—à–µ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏
5. ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
6. ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å** ‚Äî Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ AI –ø–æ–º–æ—â–Ω–∏–∫

### –†–∏—Å–∫–∏:

1. ‚ö†Ô∏è **–ë–æ–∫–æ–≤–∏–∫** ‚Äî —á–∞—Å—Ç—ã–µ —Å—Ç–æ–ø-–ª–æ—Å—Å—ã –≤ —à—É–º–Ω–æ–º —Ä—ã–Ω–∫–µ
2. ‚ö†Ô∏è **–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ–≥—Ä–æ–º–Ω—ã–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ DCA
3. ‚ö†Ô∏è **Flash crash** ‚Äî –º–æ–∂–µ—Ç –ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è SL
4. ‚ö†Ô∏è **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** ‚Äî –æ–±—Ä—ã–≤ —Å–≤—è–∑–∏ = –ø–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç—Ä–æ–ª—è

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:

- **–¢—Ä–µ–Ω–¥–æ–≤—ã–π —Ä—ã–Ω–æ–∫** —Å ATR 0.2-0.4%
- **RSI 40-60** (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞)
- **ADX 25-35** (—É–º–µ—Ä–µ–Ω–Ω—ã–π —Ç—Ä–µ–Ω–¥)
- **Confluence 3-5** (—Å—Ä–µ–¥–Ω–∏–µ/—Å–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã)

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω**: 2025-01-23
**–í–µ—Ä—Å–∏—è –±–æ—Ç–∞**: v1.4.1 Hybrid
**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞**: Claude (Anthropic)
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç—É–∞–ª—å–Ω–æ ‚úÖ
